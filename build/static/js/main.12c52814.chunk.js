(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),o=a.n(c),s=(a(15),a(1)),i=a(2),l=a(4),m=a(3),u=a(5),p=(a(16),a(8)),h={Sydney:{lat:"-33.8688",lon:"151.2093"},Brisbane:{lat:"-27.4698",lon:"153.0251"},Melbourne:{lat:"-37.8136",lon:"144.9631"},"Snowy Mountains":{lat:"-36.5000",lon:"148.3333"}},d="1ac3850d9d894febb91fbbba93db78a7",w=["Sydney","Brisbane","Melbourne","Snowy Mountains"],y=a.n(p)()(),f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).goToPreviousCity=function(e){a.currentIndex=0===a.currentIndex?w.length-1:a.currentIndex-1,a.props.weatherDataHandler(h[a.currentIndex],e)},a.goToNextCity=function(e){a.currentIndex=a.currentIndex===w.length-1?0:a.currentIndex+1,a.props.weatherDataHandler(w[a.currentIndex],e)},a.currentIndex=0,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"main-icons"},n.a.createElement("img",{className:"arrow-image arrow-image-left",src:"https://bit.ly/webApp_Assets_leftArrow",alt:"Left arrow button",onClick:this.goToPreviousCity}),n.a.createElement("img",{className:"big-image",alt:"Weather icon",src:"https://bit.ly/webApp_Assets_".concat(this.props.weatherType)}),n.a.createElement("img",{className:"arrow-image arrow-image-right",src:"https://bit.ly/webApp_Assets_rightArrow",alt:"Rigth arrow button",onClick:this.goToNextCity}))}}]),t}(n.a.Component),b=function(e){return n.a.createElement("div",null,n.a.createElement("h1",{className:"city-title"},e.title),n.a.createElement(f,{weatherType:e.weatherType,weatherDataHandler:e.weatherDataHandler}),n.a.createElement("p",{className:"current-temp"},e.temperatureStatus.temp,"\xb0"),n.a.createElement("div",{className:"range"},n.a.createElement("p",{className:"low-temp"},e.temperatureStatus.min_temp,"\xb0"),n.a.createElement("p",{className:"high-temp"},e.temperatureStatus.max_temp,"\xb0")),n.a.createElement("p",{className:"weatherCondition"},e.temperatureStatus.weather.description))},g=function(e){return n.a.createElement("div",null,n.a.createElement("p",{className:"week-day"},e.dayName),n.a.createElement("img",{className:"small-image",src:"https://bit.ly/webApp_Assets_".concat(e.weatherType),alt:"Sunny icon"}),n.a.createElement("p",{className:"week-temperature"},e.maxTemp,"/",e.minTemp))},v=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).getFormattedDate=function(e,t){return t.clone().add(e,"days").format("dddd").slice(0,3)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=0;return n.a.createElement("div",{className:"five-day-forecast"},this.props.fiveDaysList.map(function(a){return t+=1,n.a.createElement(g,{key:t,dayName:e.getFormattedDate(t,y),weatherType:e.props.weatherIconSelector(a.weather.code),maxTemp:a.max_temp,minTemp:a.min_temp})}))}}]),t}(r.Component),E=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={title:"Sydney",code:void 0,sixDaysTempData:void 0,temperatureStatus:void 0},a.weatherIconSelector=function(e){if(800===e)return"sunny";switch(Number(e.toString()[0])){case 2:return"thunderStorm";case 3:case 5:return"rain";case 6:return"snow";case 7:case 8:return"cloudy"}},a.getWeatherData=function(e){var t="https://api.weatherbit.io/v2.0/forecast/daily?lat=".concat(h[e].lat,"&lon=").concat(h[e].lon,"&key=").concat(d);fetch(t).then(function(e){return e.json()}).then(function(t){console.log(t);var r=t.data.filter(function(e,t){return t<6});a.setState({title:e,code:t.data[0].weather.code,sixDaysTempData:r,temperatureStatus:t.data[0]})})},a.getWeatherDataHandler=function(e,t){t.preventDefault(),a.getWeatherData(e)},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getWeatherData("Sydney")}},{key:"render",value:function(){return this.state.sixDaysTempData||this.state.temperatureStatus?n.a.createElement("div",{className:"App"},n.a.createElement(b,{title:this.state.title,temperatureStatus:this.state.temperatureStatus,weatherType:this.weatherIconSelector(this.state.temperatureStatus.weather.code),weatherDataHandler:this.getWeatherDataHandler}),n.a.createElement("hr",null),n.a.createElement(v,{fiveDaysList:this.state.sixDaysTempData.slice(1),weatherIconSelector:this.weatherIconSelector})):n.a.createElement("div",{className:"loader-wrapper"},n.a.createElement("div",{className:"lds-dual-ring"}))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.12c52814.chunk.js.map